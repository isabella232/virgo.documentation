<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
		"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="setting.up">
	<title>@greenpages@ set up</title>
	<para>
		Before beginning, configure the development environment to work with the
		application. In the case of @greenpages@ this means @maven@ and Eclipse.
	</para>

	<section id="setting.up.eclipse">
		<title>Setting up Eclipse (@sts.short@)</title>
		<para>
			The following sections are most easily followed in the Java perspective (not, for example, the Java EE
			perspective). If not already in the Java perspective, switch to the Java perspective in @sts@ using the
			<guimenu>Open Perspective</guimenu> menu:
			<mediaobject>
				<imageobject role="fo">
					<imagedata fileref="images/web-module/java-perspective.png" format="PNG" align="center" width="30mm"/>
				</imageobject>
				<imageobject role="html">
					<imagedata fileref="images/web-module/java-perspective.png" format="PNG" align="center"/>
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			In this step create a reference to the @webserv@ instance that the @greenpages@ application 
			integrates with (this may already be created).
		</para>
		
		<para>
			In @sts.short@ open <menuchoice><guimenu>Preferences</guimenu><guimenuitem>Server</guimenuitem>
			<guimenuitem>Runtime Environments</guimenuitem></menuchoice>. Select <emphasis>Addâ€¦</emphasis> to create a
			new reference to an instance of @webserv@. In the dialog that opens, select the <emphasis>Virgo Web Server</emphasis>
			runtime environment (v2.0) and check the box to <emphasis>Create a new local server.</emphasis>
			When complete, press <emphasis>Next</emphasis>.
		<mediaobject>
			<imageobject role="fo">
				<imagedata fileref="images/web-module/new-server-runtime-environment.png" format="PNG" align="center" width="11cm"/>
			</imageobject>
			<imageobject role="html">
				<imagedata fileref="images/web-module/new-server-runtime-environment.png" format="PNG" align="center"/>
			</imageobject>
		</mediaobject>
		</para>
		
		<para>
			In the next dialog, set the <emphasis>Virgo Web Server installation directory</emphasis> field to the
			<emphasis>value</emphasis> of <literal>$DMS_HOME</literal> and 
			check that the <emphasis>JRE:</emphasis> option is set to Java 1.6 or above. 
			<emphasis>This may not be the workbench default.</emphasis>
			When complete, press <emphasis>Finish</emphasis>.
		<mediaobject>
			<imageobject role="fo">
				<imagedata fileref="images/web-module/springsource-dm-server.png" format="PNG" align="center" width="11cm"/>
			</imageobject>
			<imageobject role="html">
				<imagedata fileref="images/web-module/springsource-dm-server.png" format="PNG" align="center"/>
			</imageobject>
		</mediaobject>
		</para>
		
		<para>
			After returning to the <emphasis>Preferences</emphasis> window, press <emphasis>OK</emphasis> to return to
			Eclipse. 
			The <emphasis>Servers</emphasis> view has opened and now shows an instance of 
			<emphasis>@virgo@ @webserv@</emphasis> in it.
		</para>
		<mediaobject>
			<imageobject role="fo">
				<imagedata fileref="images/web-module/servers-view.png" format="PNG" align="center" width="13cm"/>
			</imageobject>
			<imageobject role="html">
				<imagedata fileref="images/web-module/servers-view.png" format="PNG" align="center"/>
			</imageobject>
		</mediaobject>
		<para>
			There is also a <emphasis>Servers</emphasis> project, in which the server is listed.
		</para>
	</section>
</section>
